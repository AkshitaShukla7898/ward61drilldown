(function (d3$1) {
  'use strict';

  const svg = d3$1.select('svg');
  const transitionDuration = 500;
  const width = document.body.clientWidth;
  const height = document.body.clientHeight;
  console.log(width,height);
  let active = d3.select(null);
  svg.attr('width', width).attr('height', height);
  const g = svg.append('g');
  const mercator = d3$1.geoMercator().scale(20000).translate([width/2, height/2]).center([73,19.7]);
  const pathGenerator = d3$1.geoPath().projection(mercator);
  //Zoom
    let zzoom = d3.zoom().scaleExtent([1, 2]).on("zoom", zoomed);

    function zoomed() {
    g.style("stroke-width", 1 / d3.event.transform.k + "px");
    g.attr("transform", d3.event.transform); // updated for d3 v4
  }
  //makemap
  const makemap = (geojson) => {
    	let path = g.selectAll('path').data(geojson)
  								.enter().append('path')
    							.attr('d',pathGenerator)
      						.attr('class','boundary');
    //zoomToBoundingBox
    const zoomToBoundingBox = d => {
    let bounds = pathGenerator.bounds(d),
        dx = bounds[1][0] - bounds[0][0],
        dy = bounds[1][1] - bounds[0][1],
        x = (bounds[0][0] + bounds[1][0]) / 2,
        y = (bounds[0][1] + bounds[1][1]) / 2,
        scale = Math.max(1, Math.min(10, .81/ Math.max(dx / width, dy / height))),
        translate = [width / 2 - scale * x, height / 2 - scale * y];
      svg.transition().duration(transitionDuration).call(
    	zzoom.transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale)
      );

    };
    //clicked
  	const clicked = d =>{
  d3.json('static/cluster.json').then(projectGeoJSON =>{
  let projectgeojson = projectGeoJSON.features;
    console.log(d);
    zoomToBoundingBox(d);
  	let selectedBlock = d.properties.region;
    let selectedjson = selectMap(projectgeojson,selectedBlock);
    g.selectAll("*").remove();
    makemap(selectedjson);
  });

  	};

    path.on('click',clicked);
  };

  //selectmap
  const selectMap = (geojson,location) => {
    		let selection = [];
    		geojson.forEach( sel =>{
        	if (sel.properties.region == location){
          	selection.push(sel);
          }
        });
    		return selection;
  };


  d3.json('static/region.json').then(json =>{
    console.log(json)
    makemap(json.features);
    d3.select('button').on('click',function(){
    g.selectAll("*").remove();
    svg.transition().duration(transitionDuration).call( zzoom.transform, d3.zoomIdentity );
    makemap(json.features);
  });
  });

  const readGeoJSON = (filename) => {
    let a;
  let json = d3.json(`${filename}`).then(json =>{
    a=  json.features;
  });
  console.log(a);
  };

  let features = readGeoJSON('static/cluster.json');

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbGVjdCwgZ2VvTWVyY2F0b3IsIGdlb1BhdGgsIHpvb20gfSBmcm9tICdkMyc7XG5jb25zdCBzdmcgPSBzZWxlY3QoJ3N2ZycpO1xuY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9uID0gNTAwO1xuY29uc3Qgd2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuY29uc3QgaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG5jb25zb2xlLmxvZyh3aWR0aCxoZWlnaHQpXG5sZXQgYWN0aXZlID0gZDMuc2VsZWN0KG51bGwpO1xuc3ZnLmF0dHIoJ3dpZHRoJywgd2lkdGgpLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbmNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJyk7XG5jb25zdCBtZXJjYXRvciA9IGdlb01lcmNhdG9yKCkuc2NhbGUoMzAwMDApLnRyYW5zbGF0ZShbd2lkdGgvMiwgaGVpZ2h0LzJdKS5jZW50ZXIoWzczLDE5LjddKTtcbmNvbnN0IHBhdGhHZW5lcmF0b3IgPSBnZW9QYXRoKCkucHJvamVjdGlvbihtZXJjYXRvcik7XG4vL1pvb21cbiAgbGV0IHp6b29tID0gZDMuem9vbSgpLnNjYWxlRXh0ZW50KFsxLCAyXSkub24oXCJ6b29tXCIsIHpvb21lZCk7XG5cbiAgZnVuY3Rpb24gem9vbWVkKCkge1xuICBnLnN0eWxlKFwic3Ryb2tlLXdpZHRoXCIsIDEgLyBkMy5ldmVudC50cmFuc2Zvcm0uayArIFwicHhcIik7XG4gIGcuYXR0cihcInRyYW5zZm9ybVwiLCBkMy5ldmVudC50cmFuc2Zvcm0pOyAvLyB1cGRhdGVkIGZvciBkMyB2NFxufVxuLy9tYWtlbWFwXG5jb25zdCBtYWtlbWFwID0gKGdlb2pzb24pID0+IHtcbiAgXHRsZXQgcGF0aCA9IGcuc2VsZWN0QWxsKCdwYXRoJykuZGF0YShnZW9qc29uKVxuXHRcdFx0XHRcdFx0XHRcdC5lbnRlcigpLmFwcGVuZCgncGF0aCcpXG4gIFx0XHRcdFx0XHRcdFx0LmF0dHIoJ2QnLHBhdGhHZW5lcmF0b3IpXG4gICAgXHRcdFx0XHRcdFx0LmF0dHIoJ2NsYXNzJywnYm91bmRhcnknKVxuICAvL3pvb21Ub0JvdW5kaW5nQm94XG4gIGNvbnN0IHpvb21Ub0JvdW5kaW5nQm94ID0gZCA9PiB7XG4gIGxldCBib3VuZHMgPSBwYXRoR2VuZXJhdG9yLmJvdW5kcyhkKSxcbiAgICAgIGR4ID0gYm91bmRzWzFdWzBdIC0gYm91bmRzWzBdWzBdLFxuICAgICAgZHkgPSBib3VuZHNbMV1bMV0gLSBib3VuZHNbMF1bMV0sXG4gICAgICB4ID0gKGJvdW5kc1swXVswXSArIGJvdW5kc1sxXVswXSkgLyAyLFxuICAgICAgeSA9IChib3VuZHNbMF1bMV0gKyBib3VuZHNbMV1bMV0pIC8gMixcbiAgICAgIHNjYWxlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMTAsIC44MS8gTWF0aC5tYXgoZHggLyB3aWR0aCwgZHkgLyBoZWlnaHQpKSksXG4gICAgICB0cmFuc2xhdGUgPSBbd2lkdGggLyAyIC0gc2NhbGUgKiB4LCBoZWlnaHQgLyAyIC0gc2NhbGUgKiB5XTtcbiAgICBzdmcudHJhbnNpdGlvbigpLmR1cmF0aW9uKHRyYW5zaXRpb25EdXJhdGlvbikuY2FsbChcbiAgXHR6em9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eS50cmFuc2xhdGUodHJhbnNsYXRlWzBdLHRyYW5zbGF0ZVsxXSkuc2NhbGUoc2NhbGUpXG4gICAgKTsgXG4gICAgXG4gIH1cbiAgLy9jbGlja2VkXG5cdGNvbnN0IGNsaWNrZWQgPSBkID0+e1xuZDMuanNvbigncHJvamVjdC5qc29uJykudGhlbihwcm9qZWN0R2VvSlNPTiA9PntcbmxldCBwcm9qZWN0Z2VvanNvbiA9IHByb2plY3RHZW9KU09OLmZlYXR1cmVzO1xuICBjb25zb2xlLmxvZyhkKTtcbiAgem9vbVRvQm91bmRpbmdCb3goZCk7XG5cdGxldCBzZWxlY3RlZEJsb2NrID0gZC5wcm9wZXJ0aWVzLkJsb2NrO1xuICBsZXQgc2VsZWN0ZWRqc29uID0gc2VsZWN0TWFwKHByb2plY3RnZW9qc29uLHNlbGVjdGVkQmxvY2spO1xuICBnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gIG1ha2VtYXAoc2VsZWN0ZWRqc29uKVxufSlcbiAgXG5cdH1cbiAgXG4gIHBhdGgub24oJ2NsaWNrJyxjbGlja2VkKVxufVxuXG4vL3NlbGVjdG1hcFxuY29uc3Qgc2VsZWN0TWFwID0gKGdlb2pzb24sbG9jYXRpb24pID0+IHtcbiAgXHRcdGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgXHRcdGdlb2pzb24uZm9yRWFjaCggc2VsID0+e1xuICAgICAgXHRpZiAoc2VsLnByb3BlcnRpZXMuQmxvY2sgPT0gbG9jYXRpb24pe1xuICAgICAgICBcdHNlbGVjdGlvbi5wdXNoKHNlbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcdFx0cmV0dXJuIHNlbGVjdGlvbjtcbn0gXG5cblxuZDMuanNvbignYmxvY2suanNvbicpLnRoZW4oanNvbiA9PntcbiAgbWFrZW1hcChqc29uLmZlYXR1cmVzKVxuICBkMy5zZWxlY3QoJ2J1dHRvbicpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgZy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICBzdmcudHJhbnNpdGlvbigpLmR1cmF0aW9uKHRyYW5zaXRpb25EdXJhdGlvbikuY2FsbCggenpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkgKTtcbiAgbWFrZW1hcChqc29uLmZlYXR1cmVzKTtcbn0pXG59KVxuXG5jb25zdCByZWFkR2VvSlNPTiA9IChmaWxlbmFtZSkgPT4ge1xuICBsZXQgYTtcbmxldCBqc29uID0gZDMuanNvbihgJHtmaWxlbmFtZX1gKS50aGVuKGpzb24gPT57XG4gIGE9ICBqc29uLmZlYXR1cmVzO1xufSlcbmNvbnNvbGUubG9nKGEpO1xufVxuXG5sZXQgZmVhdHVyZXMgPSByZWFkR2VvSlNPTigncHJvamVjdC5qc29u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